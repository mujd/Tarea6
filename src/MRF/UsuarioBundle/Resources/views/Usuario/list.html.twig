{% extends 'layout.html.twig' %} 

{% block seccion2 %}<h1 class="titulo-blog">Usuarios</h1>{% endblock %}

{% block seccion3 %}
    <link rel="stylesheet" href="{{ asset('public/css/style.css') }}"/>

    <h2>Listado de Usuarios</h2><hr>

    <a href="{{ path('mrf_usuario_add') }}" class="btn btn-info" role="button">Agregar Usuario</a><br><br>
    <div class="row table-responsive ">
        {% for message in app.session.flashbag().get('mensaje') %}
            <div class="alert alert-success">{{ message }}</div>
        {% endfor %}
        <table id="example" class="table table-bordered table-condensed table-hover display">
            <thead>
                <tr>
                    <th>Id</th>
                    <th>Rol</th>                
                    <th>Rut</th>                
                    <th>Nombres</th>
                    <th>Apellido Paterno</th>
                    <th>Apellido Materno</th>
                    <th>Nombre Usuario</th>
                    <th>Password</th>
                    <th>Email</th>
                    <th>Acciones</th>
                </tr>
            </thead>
            <tbody>
                {% for Usuario in usuario %}
                    <tr>
                        <td>{{ Usuario.id }}</td>
                        <td>{{ Usuario.rol }}</td>
                        <td>{{ Usuario.rut }}</td>
                        <td>{{ Usuario.nombres }}</td>
                        <td>{{ Usuario.apellidoP }}</td>
                        <td>{{ Usuario.apellidoM }}</td>
                        <td>{{ Usuario.username }}</td>
                        <td>{{ Usuario.password }}</td>
                        <td>{{ Usuario.email }}</td>
                        <td>
                            {% if usuarioRol == 'Administrador' %}
                            <a class="glyphicon glyphicon-pencil" href="{{ path('mrf_usuario_edit', {id: Usuario.id}) }}"></a>
                            <a class="glyphicon glyphicon-trash edel" href="{{ path('mrf_usuario_delete', {id: Usuario.id}) }}"></a>                            
                            {% endif %}
                        </td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
{% endblock %}
